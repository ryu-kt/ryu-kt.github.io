window.__require=function e(t,n,o){function i(c,r){if(!n[c]){if(!t[c]){var h=c.split("/");if(h=h[h.length-1],!t[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+c+"'")}}var d=n[c]={exports:{}};t[c][0].call(d.exports,function(e){return i(t[c][1][e]||e)},d,d.exports,e,t,n,o)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({bulet:[function(e,t,n){"use strict";cc._RF.push(t,"84ff1lOdxFFy5ZfHBV51m1i","bulet"),cc.Class({extends:cc.Component,properties:{speed:1e3},start:function(){},update:function(e){var t=this.speed*e;this.node.y+=t,this.node.y>=500&&this.node.removeFromParent()}}),cc._RF.pop()},{}],enem:[function(e,t,n){"use strict";cc._RF.push(t,"226f8z4IfZKLIzY6Nk24F+F","enem"),cc.Class({extends:cc.Component,properties:{enems:{default:[],type:[cc.SpriteFrame]},speed:-100,enemSt:1},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.moon_sky_com=cc.find("UI_ROOT/moon_sky").getComponent("moon_sky"),this.moon_play_node=cc.find("UI_ROOT/player")},start:function(){},set_spriteFrame:function(){var e=this.enems.length,t=Math.floor(Math.random()*e+1);return t>e&&(t=e),this.enems[t-1]},onCollisionEnter:function(e,t){if("player"==e.node.name){if(2==t.node.enemSt)return;t.node.enemSt=2,this.moon_play_node.playSt=2;var n=t.node.getComponent(cc.Animation);n.play(),n.on("finished",function(){this.moon_sky_com.result_enemPool(this.node)},this);var o=e.node.getChildByName("ship").getComponent(cc.Animation);o.play(),o.on("finished",function(e){this.moon_play_node.removeFromParent(),this.scheduleOnce(function(){cc.director.loadScene("gameOver")},1)}.bind(this),e.node)}if("bulet"==e.node.name&&t.node.y<300){if(2==t.node.enemSt)return;t.node.enemSt=2,e.node.removeFromParent(),t.node.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.moon_sky_com.result_enemPool(t.node)},.2)}},update:function(e){var t=this.speed*e;this.node.y+=t,this.node.y<-400&&this.moon_sky_com.result_enemPool(this.node)}}),cc._RF.pop()},{}],moon_sky:[function(e,t,n){"use strict";cc._RF.push(t,"298561llflNkb3JoaXL65+9","moon_sky"),cc.Class({extends:cc.Component,properties:{speed:-500,enem:{default:null,type:cc.Prefab},enem_min_x:-200,enem_max_x:200},onLoad:function(){this.enemPool=new cc.NodePool,this.bg1=this.node.getChildByName("bg1"),this.bg2=this.node.getChildByName("bg2"),this.down_bg=this.bg1,this.bg_height=this.bg1.height,this.moon_sky_r=this.node.getParent().height/2,this.foot_y=-(this.bg_height+this.moon_sky_r)},start:function(){this.gen_enem_prefabs(),this.gen_enem()},update:function(e){this.sy=this.speed*e,this.node.y+=this.sy,this.down_bg.convertToWorldSpaceAR(cc.v2(0,0)).y<=this.foot_y&&(this.down_bg==this.bg1?(this.down_bg.y=this.bg2.y+this.bg_height,this.down_bg=this.bg2):(this.down_bg.y=this.bg1.y+this.bg_height,this.down_bg=this.bg1))},gen_enem:function(){var e=null;if(this.enemPool.size()>0)e=this.enemPool.get();else for(var t=0;t<100;t++)e=cc.instantiate(this.enem);(e=cc.instantiate(this.enem)).enemSt=1,this.node.parent.addChild(e),e.x=this.randomNum(this.enem_min_x,this.enem_max_x),e.y=500;var n=e.getComponent("enem").set_spriteFrame();e.getComponent(cc.Sprite).spriteFrame=n,this.scheduleOnce(this.gen_enem.bind(this),3)},gen_enem_prefabs:function(){for(var e=0;e<100;e++){var t=cc.instantiate(this.enem);this.enemPool.put(t)}},result_enemPool:function(e){e.enemSt=1;var t=e.getComponent("enem").set_spriteFrame();e.getComponent(cc.Sprite).spriteFrame=t,this.enemPool.put(e)},randomNum:function(e,t){var n=t-e,o=Math.random();return e+Math.round(n*o)}}),cc._RF.pop()},{}],player:[function(e,t,n){"use strict";cc._RF.push(t,"c69b6UPwG9JPIxvmGB75my9","player"),cc.Class({extends:cc.Component,properties:{bullet_Prefab:{default:null,type:cc.Prefab},playSt:1},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagationImmediate()},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.getDelta(),n=this.node.x+t.x,o=this.node.y+t.y;o>=-268&&o<=246&&(this.node.y=o),n>=-169&&n<=169&&(this.node.x=n)},this),this.node.zIndex=100},out_shoot_bullet:function(){if(2!=this.playSt){var e=cc.instantiate(this.bullet_Prefab);e.active=!0,e.x=this.node.x,e.y=this.node.y,this.node.parent.addChild(e)}},start:function(){this.schedule(this.out_shoot_bullet.bind(this),.5)}}),cc._RF.pop()},{}],startGame:[function(e,t,n){"use strict";cc._RF.push(t,"1d6f4ESY1JHZ45QRBGdZ/8h","startGame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.started=!1},start:function(){},playGame:function(){!0!==this.started&&(this.started=!0,cc.director.loadScene("game_scenes"))}}),cc._RF.pop()},{}]},{},["bulet","enem","moon_sky","player","startGame"]);